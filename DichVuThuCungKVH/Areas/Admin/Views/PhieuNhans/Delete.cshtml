@model DichVuThuCungKVH.Model.PhieuNhan

@{
    ViewBag.Title = "Xóa Phiếu Nhận";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container-fluid px-4">
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-danger"><i class="fas fa-trash-alt me-2"></i> Xác Nhận Xóa Phiếu Nhận</h6>
        </div>
        <div class="card-body">
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i> Bạn có chắc chắn muốn xóa phiếu nhận <strong>#@Model.MaPhieu</strong>? Hành động này không thể hoàn tác.
            </div>

            <div class="row">
                <div class="col-md-6">
                    <dl class="row">
                        <dt class="col-sm-4">Mã Phiếu:</dt>
                        <dd class="col-sm-8">@Model.MaPhieu</dd>

                        <dt class="col-sm-4">Thú Cưng:</dt>
                        <dd class="col-sm-8">@(Model.ThuCung != null ? Model.ThuCung.TenTC : "Không có thông tin")</dd>

                        <dt class="col-sm-4">Người Giao:</dt>
                        <dd class="col-sm-8">@(string.IsNullOrEmpty(Model.NguoiGiao) ? "Không có thông tin" : Model.NguoiGiao)</dd>

                        <dt class="col-sm-4">Người Nhận:</dt>
                        <dd class="col-sm-8">@(string.IsNullOrEmpty(Model.NguoiNhan) ? "Không có thông tin" : Model.NguoiNhan)</dd>

                        <dt class="col-sm-4">Ngày Nhận:</dt>
                        <dd class="col-sm-8">@(Model.NgayNhan.HasValue ? Model.NgayNhan.Value.ToString("dd/MM/yyyy HH:mm") : "Chưa xác định")</dd>
                    </dl>
                </div>
                <div class="col-md-6">
                    <dl class="row">
                        <dt class="col-sm-4">Tình Trạng Trước:</dt>
                        <dd class="col-sm-8">
                            @if (!string.IsNullOrEmpty(Model.TinhTrangTruocTiepNhan))
                            {
                                <img src="@Url.Content("~/Images/TinhTrangTruocTiepNhan/" + Model.TinhTrangTruocTiepNhan)" alt="Ảnh Trước Tiếp Nhận" class="img-thumbnail" style="max-width: 200px; max-height: 200px;" />
                            }
                            else
                            {
                                <span class="text-muted">Không có ảnh</span>
                            }
        </dd>

                        <dt class="col-sm-4">Tình Trạng Sau:</dt>
                        <dd class="col-sm-8">
                            @if (!string.IsNullOrEmpty(Model.TinhTrangSauTiepNhan))
                            {
                                <img src="@Url.Content("~/Images/TinhTrangSauTiepNhan/" + Model.TinhTrangSauTiepNhan)" alt="Ảnh Sau Tiếp Nhận" class="img-thumbnail" style="max-width: 200px; max-height: 200px;" />
                            }
                            else
                            {
                                <span class="text-muted">Không có ảnh</span>
                            }
        </dd>

                        <dt class="col-sm-4">Ghi Chú:</dt>
                        <dd class="col-sm-8">@(string.IsNullOrEmpty(Model.GhiChu) ? "Không có" : Model.GhiChu)</dd>
    </dl>
                </div>
            </div>

            @using (Html.BeginForm("Delete", "PhieuNhans", new { id = Model.MaPhieu, maSDDV = Model.MaSDDV }, FormMethod.Post))
            {
        @Html.AntiForgeryToken()
                <div class="form-group mt-4">
                    <button type="submit" class="btn btn-danger">
                        <i class="fas fa-trash me-2"></i> Xóa
                    </button>
                    <a href="@Url.Action("PhieuCuaLuotSDDV", new { id = Model.MaSDDV })" class="btn btn-secondary">
                        <i class="fas fa-times me-2"></i> Hủy
                    </a>
                </div>
            }
        </div>
    </div>
</div>
